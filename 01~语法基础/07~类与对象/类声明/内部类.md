# å†…éƒ¨ç±»

åœ¨ Java ä¸­ï¼Œå¯ä»¥å°†ä¸€ä¸ªç±»å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»é‡Œé¢æˆ–è€…ä¸€ä¸ªæ–¹æ³•é‡Œé¢ï¼Œè¿™æ ·çš„ç±»ç§°ä¸ºå†…éƒ¨ç±»ã€‚å¹¿æ³›æ„ä¹‰ä¸Šçš„å†…éƒ¨ç±»ä¸€èˆ¬æ¥è¯´åŒ…æ‹¬è¿™å››ç§ï¼šæˆå‘˜å†…éƒ¨ç±»ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»å’Œé™æ€å†…éƒ¨ç±»ã€‚ä¸‹é¢å°±å…ˆæ¥äº†è§£ä¸€ä¸‹è¿™å››ç§å†…éƒ¨ç±»çš„ç”¨æ³•ã€‚

# æˆå‘˜å†…éƒ¨ç±»

æˆå‘˜å†…éƒ¨ç±»æ˜¯æœ€æ™®é€šçš„å†…éƒ¨ç±»ï¼Œå®ƒçš„å®šä¹‰ä¸ºä½äºå¦ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œå½¢å¦‚ä¸‹é¢çš„å½¢å¼ï¼š

```java
class Circle {
    double radius = 0;

    public Circle(double radius) {
        this.radius = radius;
    }

    // å†…éƒ¨ç±»
    class Draw {
        public void drawSahpe() {
            System.out.println("drawshape");
        }
    }
}
```

è¿™æ ·çœ‹èµ·æ¥ï¼Œç±» Draw åƒæ˜¯ç±» Circle çš„ä¸€ä¸ªæˆå‘˜ï¼ŒCircle ç§°ä¸ºå¤–éƒ¨ç±»ã€‚æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜å±æ€§å’Œæˆå‘˜æ–¹æ³•ï¼ˆåŒ…æ‹¬ private æˆå‘˜å’Œé™æ€æˆå‘˜ï¼‰ã€‚

```java
class Circle {
    private double radius = 0;
    public static int count =1;
    public Circle(double radius) {
        this.radius = radius;
    }

    // å†…éƒ¨ç±»
    class Draw {
        public void drawSahpe() {
            System.out.println(radius);  // å¤–éƒ¨ç±»çš„privateæˆå‘˜
            System.out.println(count);   // å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜
        }
    }
}
```

ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆå‘˜å†…éƒ¨ç±»æ‹¥æœ‰å’Œå¤–éƒ¨ç±»åŒåçš„æˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•æ—¶ï¼Œä¼šå‘ç”Ÿéšè—ç°è±¡ï¼Œå³é»˜è®¤æƒ…å†µä¸‹è®¿é—®çš„æ˜¯æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ã€‚å¦‚æœè¦è®¿é—®å¤–éƒ¨ç±»çš„åŒåæˆå‘˜ï¼Œéœ€è¦ä»¥ä¸‹é¢çš„å½¢å¼è¿›è¡Œè®¿é—®ï¼š

```sh
å¤–éƒ¨ç±».this.æˆå‘˜å˜é‡
å¤–éƒ¨ç±».this.æˆå‘˜æ–¹æ³•
```

è™½ç„¶æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶åœ°è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œè€Œå¤–éƒ¨ç±»æƒ³è®¿é—®æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜å´ä¸æ˜¯è¿™ä¹ˆéšå¿ƒæ‰€æ¬²äº†ã€‚åœ¨å¤–éƒ¨ç±»ä¸­å¦‚æœè¦è®¿é—®æˆå‘˜å†…éƒ¨ç±»çš„æˆå‘˜ï¼Œå¿…é¡»å…ˆåˆ›å»ºä¸€ä¸ªæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå†é€šè¿‡æŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¥è®¿é—®ï¼š

```java
class Circle {
    private double radius = 0;

    public Circle(double radius) {
        this.radius = radius;

        // å¿…é¡»å…ˆåˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå†è¿›è¡Œè®¿é—®
        getDrawInstance().drawSahpe();
    }

    private Draw getDrawInstance() {
        return new Draw();
    }

    class Draw {     // å†…éƒ¨ç±»
        public void drawSahpe() {
            System.out.println(radius);  // å¤–éƒ¨ç±»çš„privateæˆå‘˜
        }
    }
}
```

æˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾é™„å¤–éƒ¨ç±»è€Œå­˜åœ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå‰ææ˜¯å¿…é¡»å­˜åœ¨ä¸€ä¸ªå¤–éƒ¨ç±»çš„å¯¹è±¡ã€‚åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å¯¹è±¡çš„ä¸€èˆ¬æ–¹å¼å¦‚ä¸‹ï¼š

```java
public class Test {
    public static void main(String[] args)  {
        //ç¬¬ä¸€ç§æ–¹å¼ï¼š
        Outter outter = new Outter();
        Outter.Inner inner = outter.new Inner();  //å¿…é¡»é€šè¿‡Outterå¯¹è±¡æ¥åˆ›å»º

        //ç¬¬äºŒç§æ–¹å¼ï¼š
        Outter.Inner inner1 = outter.getInnerInstance();
    }
}

class Outter {
    private Inner inner = null;
    public Outter() {

    }

    public Inner getInnerInstance() {
        if(inner == null)
            inner = new Inner();
        return inner;
    }

    class Inner {
        public Inner() {

        }
    }
}
```

å†…éƒ¨ç±»å¯ä»¥æ‹¥æœ‰ private è®¿é—®æƒé™ã€protected è®¿é—®æƒé™ã€public è®¿é—®æƒé™åŠåŒ…è®¿é—®æƒé™ã€‚æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œå¦‚æœæˆå‘˜å†…éƒ¨ç±» Inner ç”¨ private ä¿®é¥°ï¼Œåˆ™åªèƒ½åœ¨å¤–éƒ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œå¦‚æœç”¨ public ä¿®é¥°ï¼Œåˆ™ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®ï¼›å¦‚æœç”¨ protected ä¿®é¥°ï¼Œåˆ™åªèƒ½åœ¨åŒä¸€ä¸ªåŒ…ä¸‹æˆ–è€…ç»§æ‰¿å¤–éƒ¨ç±»çš„æƒ…å†µä¸‹è®¿é—®ï¼›å¦‚æœæ˜¯é»˜è®¤è®¿é—®æƒé™ï¼Œåˆ™åªèƒ½åœ¨åŒä¸€ä¸ªåŒ…ä¸‹è®¿é—®ã€‚è¿™ä¸€ç‚¹å’Œå¤–éƒ¨ç±»æœ‰ä¸€ç‚¹ä¸ä¸€æ ·ï¼Œå¤–éƒ¨ç±»åªèƒ½è¢« public å’ŒåŒ…è®¿é—®ä¸¤ç§æƒé™ä¿®é¥°ã€‚æˆ‘ä¸ªäººæ˜¯è¿™ä¹ˆç†è§£çš„ï¼Œç”±äºæˆå‘˜å†…éƒ¨ç±»çœ‹èµ·æ¥åƒæ˜¯å¤–éƒ¨ç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œæ‰€ä»¥å¯ä»¥åƒç±»çš„æˆå‘˜ä¸€æ ·æ‹¥æœ‰å¤šç§æƒé™ä¿®é¥°ã€‚

æˆå‘˜å†…éƒ¨ç±»å°½å¯ä»¥åœ¨æ‰€å±çš„å¤–éƒ¨ç±»ä¸­åˆ›å»ºå¯¹è±¡ï¼Œä¸å¯ä»¥è¢«å…¶ä»–ç±»ä½¿ç”¨ã€‚å› æ­¤æˆå‘˜å†…éƒ¨ç±»å¯ä»¥è®¿é—®ä»»æ„å¤–éƒ¨ç±»çš„æ–¹æ³•ä¸å±æ€§ã€‚

```java
public class App {
  private String appName = "appName";

  public void set() {
    InnerClass innerClass = new InnerClass();
    innerClass.print();
  }

  public class InnerClass {

    public void print() {
      System.out.print(App.this.appName);
    }
  }

  public static void main(String[] args) {
    App app = new App();
    app.set();
  }
}
```

## ä¸ºä»€ä¹ˆæˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Ÿ

åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºè¿‡äº†æˆå‘˜å†…éƒ¨ç±»å¯ä»¥æ— æ¡ä»¶è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ï¼Œé‚£å…·ä½“ç©¶ç«Ÿæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿä¸‹é¢é€šè¿‡åç¼–è¯‘å­—èŠ‚ç æ–‡ä»¶çœ‹çœ‹ç©¶ç«Ÿã€‚äº‹å®ä¸Šï¼Œç¼–è¯‘å™¨åœ¨è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šå°†æˆå‘˜å†…éƒ¨ç±»å•ç‹¬ç¼–è¯‘æˆä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ Outter.java çš„ä»£ç ï¼š

```java
public class Outter {
    private Inner inner = null;
    public Outter() {

    }

    public Inner getInnerInstance() {
        if(inner == null)
            inner = new Inner();
        return inner;
    }

    protected class Inner {
        public Inner() {

        }
    }
}
```

åç¼–è¯‘ Outter$Inner.class æ–‡ä»¶å¾—åˆ°ä¸‹é¢ä¿¡æ¯ï¼š

```sh
Compiled from "Outter.java"
public class com.cxh.test2.Outter$Inner extends java.lang.Object
  SourceFile: "Outter.java"
  InnerClass:
   #24= #1 of #22; //Inner=class com/cxh/test2/Outter$Inner of class com/cxh/tes
t2/Outter
  minor version: 0
  major version: 50
  Constant pool:
const #1 = class        #2;     //  com/cxh/test2/Outter$Inner
const #2 = Asciz        com/cxh/test2/Outter$Inner;
const #3 = class        #4;     //  java/lang/Object
const #4 = Asciz        java/lang/Object;
const #5 = Asciz        this$0;
const #6 = Asciz        Lcom/cxh/test2/Outter;;
const #7 = Asciz        <init>;
const #8 = Asciz        (Lcom/cxh/test2/Outter;)V;
const #9 = Asciz        Code;
const #10 = Field       #1.#11; //  com/cxh/test2/Outter$Inner.this$0:Lcom/cxh/t
est2/Outter;
const #11 = NameAndType #5:#6;//  this$0:Lcom/cxh/test2/Outter;
const #12 = Method      #3.#13; //  java/lang/Object."<init>":()V
const #13 = NameAndType #7:#14;//  "<init>":()V
const #14 = Asciz       ()V;
const #15 = Asciz       LineNumberTable;
const #16 = Asciz       LocalVariableTable;
const #17 = Asciz       this;
const #18 = Asciz       Lcom/cxh/test2/Outter$Inner;;
const #19 = Asciz       SourceFile;
const #20 = Asciz       Outter.java;
const #21 = Asciz       InnerClasses;
const #22 = class       #23;    //  com/cxh/test2/Outter
const #23 = Asciz       com/cxh/test2/Outter;
const #24 = Asciz       Inner;

{
final com.cxh.test2.Outter this$0;

public com.cxh.test2.Outter$Inner(com.cxh.test2.Outter);
  Code:
   Stack=2, Locals=2, Args_size=2
   0:   aload_0
   1:   aload_1
   2:   putfield        #10; //Field this$0:Lcom/cxh/test2/Outter;
   5:   aload_0
   6:   invokespecial   #12; //Method java/lang/Object."<init>":()V
   9:   return
  LineNumberTable:
   line 16: 0
   line 18: 9

  LocalVariableTable:
   Start  Length  Slot  Name   Signature
   0      10      0    this       Lcom/cxh/test2/Outter$Inner;


}
```

ç¬¬ 11 è¡Œåˆ° 35 è¡Œæ˜¯å¸¸é‡æ± çš„å†…å®¹ï¼Œä¸‹é¢é€ä¸€ç¬¬ 38 è¡Œçš„å†…å®¹ï¼š

```java
final com.cxh.test2.Outter this$0;
```

è¿™è¡Œæ˜¯ä¸€ä¸ªæŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„æŒ‡é’ˆï¼Œçœ‹åˆ°è¿™é‡Œæƒ³å¿…å¤§å®¶è±ç„¶å¼€æœ—äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ç¼–è¯‘å™¨ä¼šé»˜è®¤ä¸ºæˆå‘˜å†…éƒ¨ç±»æ·»åŠ äº†ä¸€ä¸ªæŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨æ˜¯å¦‚ä½•èµ‹åˆå€¼çš„å‘¢ï¼Ÿä¸‹é¢æ¥ç€çœ‹å†…éƒ¨ç±»çš„æ„é€ å™¨ï¼š

```java
public com.cxh.test2.Outter$Inner(com.cxh.test2.Outter);
```

ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶æˆ‘ä»¬åœ¨å®šä¹‰çš„å†…éƒ¨ç±»çš„æ„é€ å™¨æ˜¯æ— å‚æ„é€ å™¨ï¼Œç¼–è¯‘å™¨è¿˜æ˜¯ä¼šé»˜è®¤æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°çš„ç±»å‹ä¸ºæŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥æˆå‘˜å†…éƒ¨ç±»ä¸­çš„ Outter this&0 æŒ‡é’ˆä¾¿æŒ‡å‘äº†å¤–éƒ¨ç±»å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥åœ¨æˆå‘˜å†…éƒ¨ç±»ä¸­éšæ„è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜ã€‚ä»è¿™é‡Œä¹Ÿé—´æ¥è¯´æ˜äº†æˆå‘˜å†…éƒ¨ç±»æ˜¯ä¾èµ–äºå¤–éƒ¨ç±»çš„ï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºå¤–éƒ¨ç±»çš„å¯¹è±¡ï¼Œåˆ™æ— æ³•å¯¹ Outter this&0 å¼•ç”¨è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ï¼Œä¹Ÿå°±æ— æ³•åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡äº†ã€‚

## å†…éƒ¨ç±»çš„ä½¿ç”¨åœºæ™¯

- æ¯ä¸ªå†…éƒ¨ç±»éƒ½èƒ½ç‹¬ç«‹çš„ç»§æ‰¿ä¸€ä¸ªæ¥å£çš„å®ç°ï¼Œæ‰€ä»¥æ— è®ºå¤–éƒ¨ç±»æ˜¯å¦å·²ç»ç»§æ‰¿äº†æŸä¸ª(æ¥å£çš„)å®ç°ï¼Œå¯¹äºå†…éƒ¨ç±»éƒ½æ²¡æœ‰å½±å“ã€‚å†…éƒ¨ç±»ä½¿å¾—å¤šç»§æ‰¿çš„è§£å†³æ–¹æ¡ˆå˜å¾—å®Œæ•´ï¼Œ
- æ–¹ä¾¿å°†å­˜åœ¨ä¸€å®šé€»è¾‘å…³ç³»çš„ç±»ç»„ç»‡åœ¨ä¸€èµ·ï¼Œåˆå¯ä»¥å¯¹å¤–ç•Œéšè—ã€‚
- æ–¹ä¾¿ç¼–å†™äº‹ä»¶é©±åŠ¨ç¨‹åº
- æ–¹ä¾¿ç¼–å†™çº¿ç¨‹ä»£ç 

å†…éƒ¨ç±»çš„å­˜åœ¨ä½¿å¾— Java çš„å¤šç»§æ‰¿æœºåˆ¶å˜å¾—æ›´åŠ å®Œå–„ã€‚

# å±€éƒ¨å†…éƒ¨ç±»

å±€éƒ¨å†…éƒ¨ç±»æ˜¯å®šä¹‰åœ¨ä¸€ä¸ªæ–¹æ³•æˆ–è€…ä¸€ä¸ªä½œç”¨åŸŸé‡Œé¢çš„ç±»ï¼Œå®ƒå’Œæˆå‘˜å†…éƒ¨ç±»çš„åŒºåˆ«åœ¨äºå±€éƒ¨å†…éƒ¨ç±»çš„è®¿é—®ä»…é™äºæ–¹æ³•å†…æˆ–è€…è¯¥ä½œç”¨åŸŸå†…ã€‚

```java
class People{
    public People() {

    }
}

class Man{
    public Man(){

    }

    public People getWoman(){
        class Woman extends People{   //å±€éƒ¨å†…éƒ¨ç±»
            int age =0;
        }
        return new Woman();
    }
}
```

æ³¨æ„ï¼Œå±€éƒ¨å†…éƒ¨ç±»å°±åƒæ˜¯æ–¹æ³•é‡Œé¢çš„ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸€æ ·ï¼Œæ˜¯ä¸èƒ½æœ‰ publicã€protectedã€private ä»¥åŠ static ä¿®é¥°ç¬¦çš„ã€‚

# é™æ€å†…éƒ¨ç±»

é™æ€å†…éƒ¨ç±»åªèƒ½è®¿é—®æ‰€åœ¨å¤–éƒ¨ç±»çš„é™æ€æ–¹æ³•ä¸æˆå‘˜å˜é‡ã€‚é™æ€å†…éƒ¨ç±»ä¹Ÿæ˜¯å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»é‡Œé¢çš„ç±»ï¼Œåªä¸è¿‡åœ¨ç±»çš„å‰é¢å¤šäº†ä¸€ä¸ªå…³é”®å­— staticã€‚é™æ€å†…éƒ¨ç±»æ˜¯ä¸éœ€è¦ä¾èµ–äºå¤–éƒ¨ç±»çš„ï¼Œè¿™ç‚¹å’Œç±»çš„é™æ€æˆå‘˜å±æ€§æœ‰ç‚¹ç±»ä¼¼ï¼Œå¹¶ä¸”å®ƒä¸èƒ½ä½¿ç”¨å¤–éƒ¨ç±»çš„é static æˆå‘˜å˜é‡æˆ–è€…æ–¹æ³•ï¼Œè¿™ç‚¹å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºåœ¨æ²¡æœ‰å¤–éƒ¨ç±»çš„å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åˆ›å»ºé™æ€å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œå¦‚æœå…è®¸è®¿é—®å¤–éƒ¨ç±»çš„é static æˆå‘˜å°±ä¼šäº§ç”ŸçŸ›ç›¾ï¼Œå› ä¸ºå¤–éƒ¨ç±»çš„é static æˆå‘˜å¿…é¡»ä¾é™„äºå…·ä½“çš„å¯¹è±¡ã€‚

```java
public class Test {
    public static void main(String[] args)  {
        Outter.Inner inner = new Outter.Inner();
    }
}

class Outter {
    public Outter() {

    }

    static class Inner {
        public Inner() {

        }
    }
}
```

# åŒ¿åå†…éƒ¨ç±»

åŒ¿åå†…éƒ¨ç±»åº”è¯¥æ˜¯å¹³æ—¶æˆ‘ä»¬ç¼–å†™ä»£ç æ—¶ç”¨å¾—æœ€å¤šçš„ï¼Œåœ¨ç¼–å†™äº‹ä»¶ç›‘å¬çš„ä»£ç æ—¶ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ä¸ä½†æ–¹ä¾¿ï¼Œè€Œä¸”ä½¿ä»£ç æ›´åŠ å®¹æ˜“ç»´æŠ¤ã€‚ä¸‹é¢è¿™æ®µä»£ç æ˜¯ä¸€æ®µ Android äº‹ä»¶ç›‘å¬ä»£ç ï¼š

```java
scan_bt.setOnClickListener(new OnClickListener() {

      @Override
      public void onClick(View v) {
          // TODO Auto-generated method stub

      }
  });

  history_bt.setOnClickListener(new OnClickListener() {

      @Override
      public void onClick(View v) {
          // TODO Auto-generated method stub

      }
  });
```

è¿™æ®µä»£ç ä¸ºä¸¤ä¸ªæŒ‰é’®è®¾ç½®ç›‘å¬å™¨ï¼Œè¿™é‡Œé¢å°±ä½¿ç”¨äº†åŒ¿åå†…éƒ¨ç±»ã€‚è¿™æ®µä»£ç ä¸­çš„ï¼š

```java
new OnClickListener() {

    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub

    }
}
```

å°±æ˜¯åŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨ã€‚ä»£ç ä¸­éœ€è¦ç»™æŒ‰é’®è®¾ç½®ç›‘å¬å™¨å¯¹è±¡ï¼Œä½¿ç”¨åŒ¿åå†…éƒ¨ç±»èƒ½å¤Ÿåœ¨å®ç°çˆ¶ç±»æˆ–è€…æ¥å£ä¸­çš„æ–¹æ³•æƒ…å†µä¸‹åŒæ—¶äº§ç”Ÿä¸€ä¸ªç›¸åº”çš„å¯¹è±¡ï¼Œä½†æ˜¯å‰ææ˜¯è¿™ä¸ªçˆ¶ç±»æˆ–è€…æ¥å£å¿…é¡»å…ˆå­˜åœ¨æ‰èƒ½è¿™æ ·ä½¿ç”¨ã€‚å½“ç„¶åƒä¸‹é¢è¿™ç§å†™æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè·Ÿä¸Šé¢ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»è¾¾åˆ°æ•ˆæœç›¸åŒã€‚

```java
private void setListener()
{
    scan_bt.setOnClickListener(new Listener1());
    history_bt.setOnClickListener(new Listener2());
}

class Listener1 implements View.OnClickListener{
    @Override
    public void onClick(View v) {
    // TODO Auto-generated method stub

    }
}

class Listener2 implements View.OnClickListener{
    @Override
    public void onClick(View v) {
    // TODO Auto-generated method stub

    }
}
```

è¿™ç§å†™æ³•è™½ç„¶èƒ½è¾¾åˆ°ä¸€æ ·çš„æ•ˆæœï¼Œä½†æ˜¯æ—¢å†—é•¿åˆéš¾ä»¥ç»´æŠ¤ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»çš„æ–¹æ³•æ¥ç¼–å†™äº‹ä»¶ç›‘å¬ä»£ç ã€‚åŒæ ·çš„ï¼ŒåŒ¿åå†…éƒ¨ç±»ä¹Ÿæ˜¯ä¸èƒ½æœ‰è®¿é—®ä¿®é¥°ç¬¦å’Œ static ä¿®é¥°ç¬¦çš„ã€‚åŒ¿åå†…éƒ¨ç±»æ˜¯å”¯ä¸€ä¸€ç§æ²¡æœ‰æ„é€ å™¨çš„ç±»ã€‚æ­£å› ä¸ºå…¶æ²¡æœ‰æ„é€ å™¨ï¼Œæ‰€ä»¥åŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨èŒƒå›´éå¸¸æœ‰é™ï¼Œå¤§éƒ¨åˆ†åŒ¿åå†…éƒ¨ç±»ç”¨äºæ¥å£å›è°ƒã€‚åŒ¿åå†…éƒ¨ç±»åœ¨ç¼–è¯‘çš„æ—¶å€™ç”±ç³»ç»Ÿè‡ªåŠ¨èµ·åä¸º Outter$1.classã€‚ä¸€èˆ¬æ¥è¯´ï¼ŒåŒ¿åå†…éƒ¨ç±»ç”¨äºç»§æ‰¿å…¶ä»–ç±»æˆ–æ˜¯å®ç°æ¥å£ï¼Œå¹¶ä¸éœ€è¦å¢åŠ é¢å¤–çš„æ–¹æ³•ï¼Œåªæ˜¯å¯¹ç»§æ‰¿æ–¹æ³•çš„å®ç°æˆ–æ˜¯é‡å†™ã€‚

## ä¸ºä»€ä¹ˆå±€éƒ¨å†…éƒ¨ç±»å’ŒåŒ¿åå†…éƒ¨ç±»åªèƒ½è®¿é—®å±€éƒ¨ final å˜é‡ï¼Ÿ

```java
public class Test {
    public static void main(String[] args)  {

    }

    public void test(final int b) {
        final int a = 10;
        new Thread(){
            public void run() {
                System.out.println(a);
                System.out.println(b);
            };
        }.start();
    }
}
```

è¿™æ®µä»£ç ä¼šè¢«ç¼–è¯‘æˆä¸¤ä¸ª class æ–‡ä»¶ï¼šTest.class å’Œ Test1.ğ‘ğ‘™ğ‘ğ‘ ğ‘ ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šä¸ºåŒ¿åå†…éƒ¨ç±»å’Œå±€éƒ¨å†…éƒ¨ç±»èµ·åä¸º ğ‘‚ğ‘¢ğ‘¡ğ‘¡ğ‘’ğ‘Ÿx.classï¼ˆx ä¸ºæ­£æ•´æ•°ï¼‰ã€‚æ ¹æ®ä¸Šå›¾å¯çŸ¥ï¼Œtest æ–¹æ³•ä¸­çš„åŒ¿åå†…éƒ¨ç±»çš„åå­—è¢«èµ·ä¸º Test$1ã€‚

ä¸Šæ®µä»£ç ä¸­ï¼Œå¦‚æœæŠŠå˜é‡ a å’Œ b å‰é¢çš„ä»»ä¸€ä¸ª final å»æ‰ï¼Œè¿™æ®µä»£ç éƒ½ç¼–è¯‘ä¸è¿‡ã€‚æˆ‘ä»¬å…ˆè€ƒè™‘è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šå½“ test æ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œå˜é‡ a çš„ç”Ÿå‘½å‘¨æœŸå°±ç»“æŸäº†ï¼Œè€Œæ­¤æ—¶ Thread å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå¾ˆå¯èƒ½è¿˜æ²¡æœ‰ç»“æŸï¼Œé‚£ä¹ˆåœ¨ Thread çš„ run æ–¹æ³•ä¸­ç»§ç»­è®¿é—®å˜é‡ a å°±å˜æˆä¸å¯èƒ½äº†ï¼Œä½†æ˜¯åˆè¦å®ç°è¿™æ ·çš„æ•ˆæœï¼Œæ€ä¹ˆåŠå‘¢ï¼ŸJava é‡‡ç”¨äº† å¤åˆ¶ çš„æ‰‹æ®µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å°†è¿™æ®µä»£ç çš„å­—èŠ‚ç åç¼–è¯‘å¯ä»¥å¾—åˆ°ä¸‹é¢çš„å†…å®¹ï¼š

![å­—èŠ‚ç åç¼–ç ](https://pic.imgdb.cn/item/61a886b92ab3f51d918efe11.jpg)

æˆ‘ä»¬çœ‹åˆ°åœ¨ run æ–¹æ³•ä¸­æœ‰ä¸€æ¡æŒ‡ä»¤ï¼š

```sh
bipush 10
```

è¿™æ¡æŒ‡ä»¤è¡¨ç¤ºå°†æ“ä½œæ•° 10 å‹æ ˆï¼Œè¡¨ç¤ºä½¿ç”¨çš„æ˜¯ä¸€ä¸ªæœ¬åœ°å±€éƒ¨å˜é‡ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨ç¼–è¯‘æœŸé—´ç”±ç¼–è¯‘å™¨é»˜è®¤è¿›è¡Œï¼Œå¦‚æœè¿™ä¸ªå˜é‡çš„å€¼åœ¨ç¼–è¯‘æœŸé—´å¯ä»¥ç¡®å®šï¼Œåˆ™ç¼–è¯‘å™¨é»˜è®¤ä¼šåœ¨åŒ¿åå†…éƒ¨ç±»ï¼ˆå±€éƒ¨å†…éƒ¨ç±»ï¼‰çš„å¸¸é‡æ± ä¸­æ·»åŠ ä¸€ä¸ªå†…å®¹ç›¸ç­‰çš„å­—é¢é‡æˆ–ç›´æ¥å°†ç›¸åº”çš„å­—èŠ‚ç åµŒå…¥åˆ°æ‰§è¡Œå­—èŠ‚ç ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼ŒåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨çš„å˜é‡æ˜¯å¦ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œåªä¸è¿‡å€¼å’Œæ–¹æ³•ä¸­å±€éƒ¨å˜é‡çš„å€¼ç›¸ç­‰ï¼Œå› æ­¤å’Œæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡å®Œå…¨ç‹¬ç«‹å¼€ã€‚

ä¸‹é¢å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š

```java
public class Test {
    public static void main(String[] args)  {

    }

    public void test(final int a) {
        new Thread(){
            public void run() {
                System.out.println(a);
            };
        }.start();
    }
}
```

åç¼–è¯‘å¾—åˆ°ï¼š

![åŒ¿åå†…éƒ¨ç±»åç¼–è¯‘](https://pic.imgdb.cn/item/61a887332ab3f51d918f4821.jpg)

æˆ‘ä»¬çœ‹åˆ°åŒ¿åå†…éƒ¨ç±» Test$1 çš„æ„é€ å™¨å«æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æŒ‡å‘å¤–éƒ¨ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸€ä¸ªæ˜¯ int å‹å˜é‡ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™é‡Œæ˜¯å°†å˜é‡ test æ–¹æ³•ä¸­çš„å½¢å‚ a ä»¥å‚æ•°çš„å½¢å¼ä¼ è¿›æ¥å¯¹åŒ¿åå†…éƒ¨ç±»ä¸­çš„æ‹·è´ï¼ˆå˜é‡ a çš„æ‹·è´ï¼‰è¿›è¡Œèµ‹å€¼åˆå§‹åŒ–ã€‚ä¹Ÿå°±è¯´å¦‚æœå±€éƒ¨å˜é‡çš„å€¼åœ¨ç¼–è¯‘æœŸé—´å°±å¯ä»¥ç¡®å®šï¼Œåˆ™ç›´æ¥åœ¨åŒ¿åå†…éƒ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªæ‹·è´ã€‚å¦‚æœå±€éƒ¨å˜é‡çš„å€¼æ— æ³•åœ¨ç¼–è¯‘æœŸé—´ç¡®å®šï¼Œåˆ™é€šè¿‡æ„é€ å™¨ä¼ å‚çš„æ–¹å¼æ¥å¯¹æ‹·è´è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ã€‚

ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œåœ¨ run æ–¹æ³•ä¸­è®¿é—®çš„å˜é‡ a æ ¹æœ¬å°±ä¸æ˜¯ test æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡ aã€‚è¿™æ ·ä¸€æ¥å°±è§£å†³äº†å‰é¢æ‰€è¯´çš„ ç”Ÿå‘½å‘¨æœŸä¸ä¸€è‡´çš„é—®é¢˜ã€‚ä½†æ˜¯æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œæ—¢ç„¶åœ¨ run æ–¹æ³•ä¸­è®¿é—®çš„å˜é‡ a å’Œ test æ–¹æ³•ä¸­çš„å˜é‡ a ä¸æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œå½“åœ¨ run æ–¹æ³•ä¸­æ”¹å˜å˜é‡ a çš„å€¼çš„è¯ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿå¯¹ï¼Œä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´æ€§ï¼Œè¿™æ ·å°±è¾¾ä¸åˆ°åŸæœ¬çš„æ„å›¾å’Œè¦æ±‚ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œjava ç¼–è¯‘å™¨å°±é™å®šå¿…é¡»å°†å˜é‡ a é™åˆ¶ä¸º final å˜é‡ï¼Œä¸å…è®¸å¯¹å˜é‡ a è¿›è¡Œæ›´æ”¹ï¼ˆå¯¹äºå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œæ˜¯ä¸å…è®¸æŒ‡å‘æ–°çš„å¯¹è±¡ï¼‰ï¼Œè¿™æ ·æ•°æ®ä¸ä¸€è‡´æ€§çš„é—®é¢˜å°±å¾—ä»¥è§£å†³äº†ã€‚
